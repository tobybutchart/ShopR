var MSG_HEADER_FONT="Verdana, sans-serif",MSG_CONTENT_FONT="Verdana, sans-serif",MSG_SUCCESS_COLOUR="#4caf50",MSG_INFO_COLOUR="#2196F3",MSG_WARNING_COLOUR="#ff9800",MSG_ERROR_COLOUR="#d32f2f",MSG_CONFIRM_COLOUR="#7308B0",MSG_INPUT_COLOUR="#7308B0";function mainMsg(){return document.getElementById("msg-main")}
var onMsgKeyDown=function(c){var d=document.getElementById("msg-close"),g=document.getElementById("msg-cancel");c=c||window.event;"Escape"===c.key&&(g?g.click():d&&d.click());"Enter"===c.key&&d&&d.click()};
function buildMsg(c,d,g,f){var h=document.createElement("div"),a=document.createElement("div"),b=document.createElement("div"),n=document.createElement("i"),p=document.createElement("h2"),m=document.createElement("div"),k=document.createElement("div"),e=document.createElement("button"),t=document.createElement("i"),l,q,r;if("confirm"==c.toLowerCase()||"input"==c.toLowerCase())l=document.createElement("button"),q=document.createElement("i");"input"==c.toLowerCase()&&(r=document.createElement("input"),
r.type="text",r.id="msg-input");h.style.display="none";h.id="msg-main";h.classList.add("msg-main");a.id="msg-content";a.classList.add("msg-content");h.appendChild(a);b.id="msg-header";b.classList.add("msg-header");a.appendChild(b);n.id="msg-icon";n.classList.add("material-icons","msg-icon");"function"===typeof isExtension&&isExtension()&&(n.style.paddingTop="5px");b.appendChild(n);p.id="msg-title";p.classList.add("msg-title");b.appendChild(p);m.id="msg-body";m.classList.add("msg-body");a.appendChild(m);
"input"==c.toLowerCase()&&m.appendChild(r);k.id="msg-footer";k.classList.add("msg-footer");a.appendChild(k);e.id="msg-close";e.classList.add("msg-close");e.innerHTML="OK&nbsp;";e.onclick=function(){var a=document.getElementById("msg-input"),b=a?a.value:"";if(a&&!b)return a.focus(),!1;closeMsg();"function"===typeof d&&("input"==c.toLowerCase()?d(f,b):d(e))};k.appendChild(e);t.classList.add("material-icons");t.innerHTML="check";e.appendChild(t);if("confirm"==c.toLowerCase()||"input"==c.toLowerCase())l.id=
"msg-cancel",l.classList.add("msg-close"),l.innerHTML="Cancel&nbsp;",l.onclick=function(){closeMsg();"function"===typeof g&&g(l)},k.appendChild(l),q.classList.add("material-icons"),q.innerHTML="close",l.appendChild(q);document.body.appendChild(h)}
function showMsg(c,d,g,f,h,a){if("undefined"===typeof d||""===d)return!1;buildMsg(c,g,f,a);g=document.getElementById("msg-content");f=document.getElementById("msg-icon");a=document.getElementById("msg-title");var b=document.getElementById("msg-header"),n=document.getElementById("msg-footer"),p=document.getElementById("msg-body"),m=document.getElementById("msg-close"),k=document.getElementById("msg-cancel");switch(c.toLowerCase()){case "success":b.style.backgroundColor=MSG_SUCCESS_COLOUR;f.innerHTML=
"check_circle";a.innerHTML="Success!";break;case "info":b.style.backgroundColor=MSG_INFO_COLOUR;f.innerHTML="info";a.innerHTML="Info";break;case "warning":b.style.backgroundColor=MSG_WARNING_COLOUR;f.innerHTML="warning";a.innerHTML="Warning!";break;case "error":b.style.backgroundColor=MSG_ERROR_COLOUR;f.innerHTML="error";a.innerHTML="Error!";break;case "confirm":b.style.backgroundColor=MSG_CONFIRM_COLOUR;f.innerHTML="help";a.innerHTML="Confirm?";break;case "input":b.style.backgroundColor=MSG_INPUT_COLOUR;
f.innerHTML="input";a.innerHTML="Input";break;default:return!1}p.innerHTML=d+p.innerHTML;var e;h&&(e=document.getElementById("msg-input"))&&(e.value=h);b.style.fontFamily=MSG_HEADER_FONT;n.style.fontFamily=MSG_HEADER_FONT;g.style.fontFamily=MSG_CONTENT_FONT;m.style.fontFamily=MSG_HEADER_FONT;k&&(k.style.fontFamily=MSG_HEADER_FONT);mainMsg().style.display="block";document.addEventListener("keydown",onMsgKeyDown,!1);e?e.focus():m.focus();return!0}
function closeMsg(){mainMsg().style.display="none";mainMsg().remove();document.removeEventListener("keydown",onMsgKeyDown,!1)};
